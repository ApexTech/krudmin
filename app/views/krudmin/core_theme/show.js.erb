var modalContent = "<%=j render partial: 'modal_show' %>";
var modal = $("#crudFormModal");

if (modal.hasClass("show")) {
  var domElement = new DOMParser().parseFromString(modalContent, "text/html");
  var header = $(domElement).find('.modal-header').html();
  var body = $(domElement).find('.modal-body').html();
  var footer = $(domElement).find('.modal-footer').html();

  modal.find('.modal-header').html(header);
  modal.find('.modal-body').html(body);
  modal.find('.modal-footer').html(footer);
} else {
  if (modal.length > 0) {
    modal.replaceWith(modalContent);
  } else {
    var div = document.createElement('div');
    div.innerHTML = modalContent;
    document.body.appendChild(div);
  }

  $(crudFormModal).on('show.bs.modal', function (e) {

  }).modal();
}
